{"version":3,"sources":["webpack:///app.bundle.js","webpack:///./utils.ts","webpack:///./index.ts"],"names":["webpackJsonp","module","exports","__webpack_require__","drawPath","ctx","startX","startY","endX","endY","beginPath","moveTo","lineTo","stroke","drawPaths","paths","forEach","p","origin","x","y","end","addNextPath","originX","originY","path","push","clearPaths","addNextTriangle","t","ts","_drawTriangles","triangles","tri","_drawTri","_lerp","a","b","f","Math","max","floor","drawTriangles","h","__awaiter","this","__generator","_a","label","draw","sent","c","getPathCords","len","xOrigin","yOrigin","sqrt","pow","deriveInnerTriangle","s2","c2","b2","a2","xOrg2","yOrg2","fillStyle","closePath","clearRect","amount","iX","iY","Promise","resolve","_draw","length","window","requestAnimationFrame","thisArg","_arguments","P","generator","reject","fulfilled","value","step","next","e","rejected","throw","result","done","then","apply","body","verb","n","v","op","TypeError","_","call","ops","pop","trys","return","init","cvs","width","height","history","event","start","sideLen","xOffset","yOffset","depth","innerTri","top_1","bLeft","bRight","_i","inner","iTri","d","_b","i","__WEBPACK_IMPORTED_MODULE_0__utils__","console","count","Object","defineProperty","document","addEventListener","getElementById","getContext"],"mappings":"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","file":"app.bundle.js","sourcesContent":["webpackJsonp([0,1],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export _drawTriangles */\n/* harmony export (immutable) */ exports[\"c\"] = drawTriangles;\n/* harmony export (immutable) */ exports[\"a\"] = getPathCords;\n/* harmony export (immutable) */ exports[\"b\"] = deriveInnerTriangle;\n/* unused harmony export draw */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nfunction drawPath(ctx, startX, startY, endX, endY) {\n    ctx.beginPath();\n    ctx.moveTo(startX, startY);\n    ctx.lineTo(endX, endY);\n    ctx.stroke();\n}\nfunction drawPaths(ctx, paths) {\n    paths.forEach(function (p) { return drawPath(ctx, p.origin.x, p.origin.y, p.end.x, p.end.y); });\n}\nfunction addNextPath(originX, originY, endX, endY, paths) {\n    var path = {\n        origin: {\n            x: originX,\n            y: originY\n        },\n        end: {\n            x: endX,\n            y: endY\n        }\n    };\n    paths.push(path);\n}\nfunction clearPaths(paths) {\n    paths = [];\n}\nfunction addNextTriangle(t, ts) {\n    ts.push(t);\n}\nfunction _drawTriangles(ctx, triangles) {\n    triangles.forEach(function (tri) { return _drawTri(ctx, tri); });\n}\nfunction _lerp(a, b, f) {\n    a = Math.max(a, 0);\n    b = Math.max(b, 0);\n    return Math.floor(a + f * (b - a));\n}\nfunction drawTriangles(ctx, tri, h) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, draw(ctx, tri.a.x, tri.a.y, tri.b.x, tri.b.y, 0, h)];\n                case 1:\n                    _a.sent();\n                    return [4 /*yield*/, draw(ctx, tri.b.x, tri.b.y, tri.c.x, tri.c.y, 0, h)];\n                case 2:\n                    _a.sent();\n                    return [4 /*yield*/, draw(ctx, tri.c.x, tri.c.y, tri.a.x, tri.a.y, 0, h)];\n                case 3:\n                    _a.sent();\n                    clearPaths(h.paths);\n                    addNextTriangle(tri, h.triangles);\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getPathCords(len, xOrigin, yOrigin) {\n    var c = len;\n    var b = c / 2;\n    var a = Math.sqrt(Math.pow(c, 2) - Math.pow(b, 2));\n    return {\n        a: { x: xOrigin, y: yOrigin },\n        b: { x: c + xOrigin, y: yOrigin },\n        c: { x: b + xOrigin, y: yOrigin - a }\n    };\n}\nfunction deriveInnerTriangle(len, xOrigin, yOrigin) {\n    var s2 = len / 2;\n    var c2 = s2;\n    var b2 = c2 / 2;\n    var a2 = Math.sqrt(Math.pow(c2, 2) - Math.pow(b2, 2));\n    var xOrg2 = xOrigin + b2;\n    var yOrg2 = yOrigin - a2;\n    return {\n        a: { x: xOrg2, y: yOrg2 },\n        b: { x: c2 + xOrg2, y: yOrg2 },\n        c: { x: c2 + xOrigin, y: yOrigin }\n    };\n}\nfunction _drawTri(ctx, tri, fillStyle) {\n    ctx.beginPath();\n    ctx.moveTo(tri.a.x, tri.a.y);\n    ctx.lineTo(tri.b.x, tri.b.y);\n    ctx.lineTo(tri.c.x, tri.c.y);\n    ctx.closePath();\n    ctx.stroke();\n}\nfunction clearRect(ctx) {\n    ctx.clearRect(0, 0, 320, 340);\n    // setTimeout(() => ctx.clearRect(0, 0, 320, 340), 0);\n}\nfunction draw(ctx, startX, startY, endX, endY, amount, h) {\n    if (amount === void 0) { amount = 0; }\n    var _a = [startX, startY], iX = _a[0], iY = _a[1];\n    return new Promise(function (resolve) {\n        _draw(startX, startY, endX, endY, amount, h);\n        function _draw(startX, startY, endX, endY, amount, h) {\n            if (amount === void 0) { amount = 0; }\n            clearRect(ctx);\n            if (h.triangles.length > 0) {\n                _drawTriangles(ctx, h.triangles);\n            }\n            if (h.paths.length > 0) {\n                drawPaths(ctx, h.paths);\n            }\n            if (amount >= 1) {\n                drawPaths(ctx, h.paths);\n                drawPath(ctx, iX, iY, endX, endY);\n                addNextPath(iX, iY, endX, endY, h.paths);\n                return resolve(true);\n            }\n            startX = _lerp(iX, endX, amount);\n            startY = _lerp(iY, endY, amount);\n            drawPath(ctx, iX, iY, startX, startY);\n            window.requestAnimationFrame(function () { return _draw(startX, startY, endX, endY, amount + 0.06, h); });\n        }\n    });\n}\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(0);\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments)).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t;\n    return { next: verb(0), \"throw\": verb(1), \"return\": verb(2) };\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\ndocument.addEventListener('DOMContentLoaded', function (event) {\n    var cvs = document.getElementById('cvs');\n    var ctx = cvs.getContext('2d');\n    init(cvs, ctx);\n});\nfunction init(cvs, ctx) {\n    cvs.width = 320;\n    cvs.height = 340;\n    var history = { triangles: [], paths: [] };\n    window.requestAnimationFrame(function (event) {\n        function start(sideLen, xOffset, yOffset, depth, h) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tri, innerTri, top_1, bLeft, bRight, _i, _a, inner, iTri, d;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (!(depth > 0))\n                                return [3 /*break*/, 9];\n                            tri = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* getPathCords */])(sideLen, xOffset, yOffset);\n                            innerTri = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"b\" /* deriveInnerTriangle */])(sideLen, xOffset, yOffset);\n                            return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* drawTriangles */])(ctx, tri, h)];\n                        case 1:\n                            _b.sent();\n                            top_1 = innerTri.a;\n                            bLeft = tri.a;\n                            bRight = innerTri.c;\n                            _i = 0, _a = [top_1, bLeft, bRight];\n                            _b.label = 2;\n                        case 2:\n                            if (!(_i < _a.length))\n                                return [3 /*break*/, 5];\n                            inner = _a[_i];\n                            iTri = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"b\" /* deriveInnerTriangle */])(sideLen / 2, inner.x, inner.y);\n                            return [4 /*yield*/, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__utils__[\"c\" /* drawTriangles */])(ctx, iTri, h)];\n                        case 3:\n                            _b.sent();\n                            _b.label = 4;\n                        case 4:\n                            _i++;\n                            return [3 /*break*/, 2];\n                        case 5:\n                            d = --depth;\n                            return [4 /*yield*/, start(sideLen / 2, xOffset + sideLen / 2, yOffset, d, h)];\n                        case 6:\n                            _b.sent();\n                            return [4 /*yield*/, start(sideLen / 2, xOffset, yOffset, d, h)];\n                        case 7:\n                            _b.sent();\n                            return [4 /*yield*/, start(sideLen / 2, top_1.x, top_1.y, d, h)];\n                        case 8:\n                            _b.sent();\n                            _b.label = 9;\n                        case 9: return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        start(300, 10, 330, 2, history).then(function (x) {\n            console.count('all done?');\n        });\n    });\n}\n\n\n/***/ }\n],[1]);\n\n\n// WEBPACK FOOTER //\n// app.bundle.js","export interface Point {\n    x: number\n    y: number\n}\n\nexport interface Triangle {\n    a: Point\n    b: Point\n    c: Point\n}\n\nexport interface Cb {\n    (a: any): any\n}\n\nexport interface Path {\n    origin: Point\n    end: Point\n}\n\nexport interface History {\n    paths: Path[],\n    triangles: Triangle[]\n}\n\nfunction drawPath(ctx: CanvasRenderingContext2D, startX: number, startY: number, endX: number, endY: number) {\n    ctx.beginPath();\n    ctx.moveTo(startX, startY);\n    ctx.lineTo(endX, endY);\n    ctx.stroke();\n}\n\nfunction drawPaths(ctx: CanvasRenderingContext2D, paths: Path[]) {\n    paths.forEach((p: Path) => drawPath(ctx, p.origin.x, p.origin.y, p.end.x, p.end.y));\n}\n\nfunction addNextPath(originX: number, originY: number, endX: number, endY: number, paths: Path[]) {\n    const path: Path = {\n        origin: {\n            x: originX,\n            y: originY\n        },\n        end: {\n            x: endX,\n            y: endY\n        }\n    }\n    paths.push(path);\n}\n\nfunction clearPaths(paths: Path[]) {\n    paths = [];\n}\n\nfunction addNextTriangle(t: Triangle, ts: Triangle[]) {\n    ts.push(t);\n}\n\nexport function _drawTriangles(ctx: CanvasRenderingContext2D, triangles: Triangle[]) {\n    triangles.forEach((tri) => _drawTri(ctx, tri))\n}\n\nfunction _lerp(a: number, b: number, f: number) {\n    a = Math.max(a, 0);\n    b = Math.max(b, 0);\n    return Math.floor(a + f * (b - a));\n}\n\nexport async function drawTriangles(ctx: CanvasRenderingContext2D, tri: Triangle, h: History) {\n    await draw(ctx, tri.a.x, tri.a.y, tri.b.x, tri.b.y, 0, h);\n    await draw(ctx, tri.b.x, tri.b.y, tri.c.x, tri.c.y, 0, h);\n    await draw(ctx, tri.c.x, tri.c.y, tri.a.x, tri.a.y, 0, h);\n    clearPaths(h.paths);\n    addNextTriangle(tri, h.triangles);\n}\n\nexport function getPathCords(len: number, xOrigin: number, yOrigin: number): Triangle {\n    var c = len;\n    var b = c / 2;\n    var a = Math.sqrt(Math.pow(c, 2) - Math.pow(b, 2));\n    return {\n        a: { x: xOrigin, y: yOrigin },\n        b: { x: c + xOrigin, y: yOrigin },\n        c: { x: b + xOrigin, y: yOrigin - a }\n    };\n}\n\nexport function deriveInnerTriangle(len: number, xOrigin: number, yOrigin: number): Triangle {\n    var s2 = len / 2;\n    var c2 = s2;\n    var b2 = c2 / 2;\n    var a2 = Math.sqrt(Math.pow(c2, 2) - Math.pow(b2, 2));\n    var xOrg2 = xOrigin + b2;\n    var yOrg2 = yOrigin - a2;\n    return {\n        a: { x: xOrg2, y: yOrg2 },\n        b: { x: c2 + xOrg2, y: yOrg2 },\n        c: { x: c2 + xOrigin, y: yOrigin }\n    };\n}\n\nfunction _drawTri(ctx: CanvasRenderingContext2D, tri: Triangle, fillStyle?: string) {\n    ctx.beginPath();\n    ctx.moveTo(tri.a.x, tri.a.y);\n    ctx.lineTo(tri.b.x, tri.b.y);\n    ctx.lineTo(tri.c.x, tri.c.y);\n    ctx.closePath();\n    ctx.stroke();\n}\n\nfunction clearRect(ctx: CanvasRenderingContext2D) {\n    ctx.clearRect(0, 0, 320, 340);\n    // setTimeout(() => ctx.clearRect(0, 0, 320, 340), 0);\n}\n\nexport function draw(ctx: CanvasRenderingContext2D, startX: number, startY: number, endX: number, endY: number, amount = 0, h: History) {\n    const [iX, iY] = [startX, startY];\n\n    return new Promise((resolve: Cb) => {\n        _draw(startX, startY, endX, endY, amount, h);\n\n        function _draw(startX: number, startY: number, endX: number, endY: number, amount = 0, h: History) {\n            \n            clearRect(ctx);\n\n            if (h.triangles.length > 0) {\n                _drawTriangles(ctx, h.triangles);\n            }\n\n            if (h.paths.length > 0) {\n                drawPaths(ctx, h.paths);\n            }\n\n            if (amount >= 1) {\n                drawPaths(ctx, h.paths);\n                drawPath(ctx, iX, iY, endX, endY);\n                addNextPath(iX, iY, endX, endY, h.paths);\n                return resolve(true);\n            }\n\n            startX = _lerp(iX, endX, amount);\n            startY = _lerp(iY, endY, amount);\n            drawPath(ctx, iX, iY, startX, startY);\n\n            window.requestAnimationFrame(() => _draw(startX, startY, endX, endY, amount + 0.06, h));\n        }\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./utils.ts","\nimport { \n  Triangle,\n  Point,\n  Path,\n  History,\n  getPathCords,\n  deriveInnerTriangle,\n  drawTriangles,\n  _drawTriangles,\n} from './utils';\n\n\ndocument.addEventListener('DOMContentLoaded', (event) => {\n  const cvs = <HTMLCanvasElement>document.getElementById('cvs');\n  const ctx = <CanvasRenderingContext2D>cvs.getContext('2d');\n  init(cvs, ctx);\n});\n\nfunction init(cvs: HTMLCanvasElement, ctx: CanvasRenderingContext2D) {\n  cvs.width = 320;\n  cvs.height = 340;\n  const history: History = {triangles: [], paths: []};\n  window.requestAnimationFrame((event) => {\n\n    async function start(sideLen: number, xOffset: number, yOffset: number, depth: number, h: History) {\n\n      if (depth > 0) {\n        let tri = getPathCords(sideLen, xOffset, yOffset);\n        let innerTri = deriveInnerTriangle(sideLen, xOffset, yOffset);\n\n        await drawTriangles(ctx, tri, h);\n\n        let top = innerTri.a;\n        let bLeft = tri.a;\n        let bRight = innerTri.c;\n\n        for (let inner of [top, bLeft, bRight]) {\n          let iTri = deriveInnerTriangle(sideLen / 2, inner.x, inner.y);\n          await drawTriangles(ctx, iTri, h);\n        }\n\n        let d = --depth;\n        await start(sideLen / 2, xOffset + sideLen / 2, yOffset, d, h);\n        await start(sideLen / 2, xOffset, yOffset, d, h);\n        await start(sideLen / 2, top.x, top.y, d, h);\n      }\n    }\n    \n    start(300, 10, 330, 2, history).then((x:any) => {\n       console.count('all done?');\n    });\n    \n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.ts"],"sourceRoot":""}